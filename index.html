<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>ETS Pemrogramman Web 2023</title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
    </head>
    <body>
        <div class="container">
            <div class="row justify-content-center" id="result"></div>
        </div>

        <script>
            window.addEventListener('load', function () {
                const apiUrl = "https://it-its.id/api/books";

                fetch(apiUrl)
                    .then(response => response.json())
                    .then(function (data) {
                        const cardContainer = document.getElementById("result");

                        data.forEach(book => {
                            const card = document.createElement('div');
                            card.classList.add('card', 'shadow', 'mb-3');
                            card.innerHTML = `
                                <div class="card-body m-4">
                                    <h5 class="card-title">${book.title} (${book.year})</h5>
                                    <p class="card-text">${book.author}</p>
                                </div>
                            `;
                            const col = document.createElement('div');
                            col.classList.add('col-10', 'col-md-4');
                            col.appendChild(card);
                            cardContainer.appendChild(col);
                        });
                    })
                    .catch(error => {
                        alert("Terjadi kesalahan dalam mengambil data");
                    });
            });
        </script>

        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz" crossorigin="anonymous"></script>
    </body>
</html>